@using Taxify.Service.DTOs.Users;

@{
    Layout = "Menubar";
}
@model IEnumerable<UserResultDto>

<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:wght@400;700&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">

<style>
    :root {
        --roboto: 'Roboto', sans-serif;
        --roboto_condemsed: 'Roboto Condensed', sans-serif;
    }
    #button{
        font-family:var(--roboto);
    } 

</style>
<div class="row" style="margin-left: 5%; margin-right:5%">
    <div class="d-flex justify-content-between my-1">
        <div>
            <h3 id="button">Users</h3>
        </div>
        <div>
            <h3 id="button">Count: @Model.Count()</h3>
        </div>
        <div>
            <button id="button" type="button" class="btn btn-secondary btn-rounded">ADD USER</button>
        </div>
    </div>
    <table class="table align-middle  mb-0 bg-white border-dark border-2">
        <thead class="bg-light">
            <tr>
                <th class="ms-5">Name</th>
                <th>Gender</th>
                <th>Status</th>
                <th>Position</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var user in Model)
            {
                <tr>
                    <td>
                        <div class="ms-5 d-flex align-items-center">
                            @if (user.Attachment is not null)
                            {
                                <img src="~/Images/@user.Attachment.FileName"
                                     alt=""
                                     style="width: 45px; height: 45px"
                                     class="rounded-circle" />
                            }
                            else
                            {
                                <img src="https://yandex.ru/images/search?text=user+icon+svg&img_url=https%3A%2F%2Fsun9-79.userapi.com%2Fimpg%2FW8NOmKHBmjAR4N7fjDExNQJgd6VL-SFY2JUOTQ%2FN42NYR1XxFA.jpg%3Fsize%3D860x900%26quality%3D96%26sign%3D66077dfb15f037ee868acd3156efee77%26c_uniq_tag%3DAFz7Lam5HVjrLJq3LFLUcn59TraQmZ7FEY2NOHyoNV8%26type%3Dalbum&pos=2&rpt=simage&stype=image&lr=10335&parent-reqid=1696249077832871-13387915928370291014-balancer-l7leveler-kubr-yp-sas-159-BAL-7753&source=serp"
                                     alt=""
                                     style="width: 45px; height: 45px"
                                    class="rounded-circle" />
                            }
                            <div class="ms-3">
                                <p class="fw-bold mb-1">@user.Firstname @user.Lastname</p>
                                <p class="text-muted mb-0">@user.Phone</p>
                            </div>
                        </div>
                    </td>
                    <td>
                        <p class="fw-normal mb-1">@user.Gender</p>
                    </td>
                    <td>
                        <span class="badge badge-success rounded-pill d-inline">Active</span>
                    </td>
                    <td>@user.Role</td>
                    <td>
                        <a type="button" class="btn btn-outline-dark" href="@Url.Action("Edit","User",user)" data-mdb-ripple-color="dark">Edit</a>
                        <button type="button" class="btn btn-outline-secondary" data-bs-toggle="modal" data-bs-target="#exampleModal">Remove</button>

                        <!-- Modal -->
                        <div class="modal fade" tabindex="-1" id="exampleModal" aria-labelledby="exampleModalLabel" aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title text-danger" id="exampleModalLabel">!</h5>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                                    </div>
                                    <div class="modal-body">
                                        You are delete this user! 
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-subtle" data-bs-dismiss="modal">Cancel</button>
                                        <button type="button" class="btn btn-danger">Delete</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </td>
                </tr>
                }
            
        </tbody>
    </table>

</div>